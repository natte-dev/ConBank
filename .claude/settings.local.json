{
  "permissions": {
    "allow": [
      "Bash(dir:*)",
      "Bash(\"C:\\\\Users\\\\nathan.carvalho\\\\Documents\\\\conBank\\\\.env.example\" << 'EOF'\n# =============================================================================\n# conBank — Variáveis de Ambiente\n# Copie este arquivo para .env e preencha os valores reais.\n# NUNCA commite o .env com valores reais no repositório.\n# =============================================================================\n\n# ---------------------------------------------------------------------------\n# BANCO DE DADOS \\(obrigatório\\)\n# Formato: postgresql://usuario:senha@host:porta/nome_do_banco\n# No EasyPanel: use o serviço PostgreSQL interno, ex:\n#   postgresql://conbank:SuaSenhaForte@postgres:5432/conbank\n# ---------------------------------------------------------------------------\nDATABASE_URL=postgresql://conbank:TROQUE_ESSA_SENHA@postgres:5432/conbank\n\n# ---------------------------------------------------------------------------\n# CORS \\(opcional em produção, obrigatório se o frontend for num domínio diferente\\)\n# Separe múltiplas origens por vírgula.\n# Use \"*\" apenas para testes \\(NÃO use em produção com dados sensíveis\\).\n# Exemplo: ALLOWED_ORIGINS=https://meuapp.easypanel.host\n# ---------------------------------------------------------------------------\nALLOWED_ORIGINS=*\n\n# ---------------------------------------------------------------------------\n# PORTA DO BACKEND \\(opcional, default 8000\\)\n# O EasyPanel usa o expose da imagem; raramente precisa mudar.\n# ---------------------------------------------------------------------------\nPORT=8000\n\n# ---------------------------------------------------------------------------\n# AMBIENTE \\(informativo, usado por libs como Sentry, etc.\\)\n# ---------------------------------------------------------------------------\nENVIRONMENT=production\nEOF)",
      "Bash(\"C:\\\\Users\\\\nathan.carvalho\\\\Documents\\\\conBank\\\\frontend\\\\nginx.conf\" << 'NGINX'\nserver {\n    listen 80;\n    server_name _;\n    root /usr/share/nginx/html;\n    index index.html;\n\n    # Compressão gzip\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_types text/plain text/css application/json application/javascript\n               text/xml application/xml text/javascript image/svg+xml;\n    gzip_min_length 256;\n\n    # Cache longo para assets com hash no nome \\(Vite\\)\n    location ~* \\\\.\\(js|css|woff2?|png|jpg|jpeg|gif|ico|svg|webp\\)$ {\n        expires 1y;\n        add_header Cache-Control \"public, immutable\";\n        access_log off;\n    }\n\n    # SPA fallback: todas as rotas caem no index.html\n    location / {\n        try_files $uri $uri/ /index.html;\n        add_header X-Content-Type-Options \"nosniff\";\n        add_header X-Frame-Options \"SAMEORIGIN\";\n        add_header X-XSS-Protection \"1; mode=block\";\n    }\n\n    # Health do Nginx \\(usado pelo EasyPanel healthcheck\\)\n    location /nginx-health {\n        access_log off;\n        return 200 \"ok\\\\n\";\n        add_header Content-Type text/plain;\n    }\n}\nNGINX)",
      "Bash(\"C:\\\\Users\\\\nathan.carvalho\\\\Documents\\\\conBank\\\\backend\\\\.dockerignore\" << 'EOF'\n# Python\n__pycache__\n**/__pycache__\n*.pyc\n*.pyo\n*.pyd\n.pytest_cache\n.mypy_cache\nhtmlcov\n.coverage\n\n# Venv\nvenv/\nenv/\n.venv/\n.env\n*.egg-info/\n\n# IDE\n.vscode/\n.idea/\n*.swp\n\n# Logs\n*.log\n\n# Documentação\n*.md\n\n# Git\n.git/\n.gitignore\nEOF)",
      "Bash(\"C:\\\\Users\\\\nathan.carvalho\\\\Documents\\\\conBank\\\\frontend\\\\.dockerignore\" << 'EOF'\n# Node\nnode_modules/\ndist/\n.vite/\n.eslintcache\ncoverage/\n\n# Env\n.env\n.env.*\n\n# IDE\n.vscode/\n.idea/\n*.swp\n\n# Git\n.git/\n.gitignore\n\n# Logs\n*.log\nEOF)",
      "Bash(\"C:\\\\Users\\\\nathan.carvalho\\\\Documents\\\\conBank\\\\docker-compose.override.yml\" << 'EOF'\n# =============================================================================\n# docker-compose.override.yml — Desenvolvimento LOCAL\n# Este arquivo sobrescreve o docker-compose.yml apenas quando você rodar\n# localmente \\(sem EasyPanel\\).\n#\n# Uso: docker compose up --build\n#      \\(o override é carregado automaticamente pelo docker compose\\)\n#\n# O EasyPanel NÃO usa este arquivo — ele usa apenas docker-compose.yml\n# =============================================================================\n\nnetworks:\n  easypanel:\n    # Em desenvolvimento local, criamos a rede internamente \\(não precisa ser externa\\)\n    external: false\n    name: easypanel\n\nservices:\n  backend:\n    # Override: sem labels Traefik, porta exposta diretamente para testes\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=${DATABASE_URL:-postgresql://conbank:conbank@db:5432/conbank}\n      - ALLOWED_ORIGINS=${ALLOWED_ORIGINS:-http://localhost:3000,http://localhost:80}\n      - PORT=8000\n      - ENVIRONMENT=development\n    depends_on:\n      db:\n        condition: service_healthy\n\n  frontend:\n    # Override: sem labels Traefik, porta exposta diretamente\n    ports:\n      - \"80:80\"\n\n  # ---------------------------------------------------------------------------\n  # PostgreSQL LOCAL — apenas para desenvolvimento, não vai para EasyPanel\n  # ---------------------------------------------------------------------------\n  db:\n    image: postgres:15-alpine\n    environment:\n      POSTGRES_DB: conbank\n      POSTGRES_USER: conbank\n      POSTGRES_PASSWORD: conbank\n    volumes:\n      - pgdata_local:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U conbank -d conbank\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n      start_period: 10s\n    ports:\n      - \"5432:5432\"   # Acesso externo para ferramentas como DBeaver/pgAdmin\n\nvolumes:\n  pgdata_local:\nEOF)",
      "Bash(powershell.exe:*)"
    ]
  }
}
